{% extends 'base_site.html' %}

{% block title %}Create a new account{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <form autocomplete="off" id="user_form" method="post" action="." class="form-horizontal" enctype="multipart/form-data">
            {% csrf_token %}
            <!-- Get rid of Chrome autocomplete -->
            <input style="display:none">
            <input type="password" style="display:none">

            {% for field in user_form %}
                {% if field.errors %}
                <div class="form-group has-error">
                {% else %}
                <div class="form-group">
                {% endif %}
                    <label for="{{ field.auto_id }}" class="col-md-2 control-label">{{ field.label }}</label>
                    <div class="col-md-10">
                        {% if field.errors %}
                            <div class="panel panel-danger">
                                {% with field.errors|first as error %}
                                    <div class="panel-heading">{{ error }}</div>
                                    <div class="panel-body">{{ field }}</div>
                                {% endwith %}
                            </div>
                        {% else %}
                            {{ field }}
                        {% endif %}
                    </div>
                </div>
            {% endfor %}

            <div class="form-group">
                <div class="col-md-8 col-md-offset-2">
                    <button type="submit" class="btn btn-default" value="submit">Register</button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}
